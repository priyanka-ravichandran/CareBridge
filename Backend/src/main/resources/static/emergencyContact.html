<!DOCTYPE html>
<html>
<head>
    <title>Add Emergency Contact for Elderly</title>
</head>
<body>
<h1>Elderly Information</h1>

<div id="elderlyInfo">
    <strong>Elderly ID:</strong> <span id="elderlyId">123</span><br>
    <strong>Guardian ID:</strong> <span id="guardianId">456</span><br>
    <strong>Hobbies:</strong> <span id="hobbies">Reading, Gardening</span><br>
    <strong>Emergency Contact:</strong> <span id="emergencyContact">123456789</span><br>
</div>

<h2>Add Emergency Contact</h2>

<label for="newEmergencyContact">New Emergency Contact:</label>
<input type="text" id="newEmergencyContact" placeholder="New Emergency Contact">

<button onclick="addEmergencyContact()">Add Emergency Contact</button>

<script>
    function addEmergencyContact() {
        const elderlyId = document.getElementById('elderlyId').innerText;
        const guardianId = document.getElementById('guardianId').innerText;
        const hobbies = document.getElementById('hobbies').innerText;
        const currentEmergencyContact = document.getElementById('emergencyContact').innerText;
        const newEmergencyContact = document.getElementById('newEmergencyContact').value;

        // Update the emergency contact locally
        document.getElementById('emergencyContact').innerText = currentEmergencyContact + ', ' + newEmergencyContact;

        // Reset the input field
        document.getElementById('newEmergencyContact').value = '';

        // Assuming you have an API endpoint to add the emergency contact
        // Send a POST request to update the emergency contact on the server
        // Replace with your actual API endpoint and logic
        const apiUrl = `/api/v1/emergencyContact/addContact`;
        const data = {
            elderlyId,
            guardianId,
            hobbies,
            emergencyContact: currentEmergencyContact + ', ' + newEmergencyContact
        };

        fetch(apiUrl, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(data)
        })
        .then(response => response.json())
        .then(data => {
            console.log('Emergency contact added successfully:', data);
        })
        .catch(error => {
            console.error('Error adding emergency contact:', error);
        });
    }
</script>
</body>
</html>